# Use Python 3.9 slim image as base\nFROM python:3.9-slim\n\n# Set environment variables\nENV PYTHONDONTWRITEBYTECODE 1\nENV PYTHONUNBUFFERED 1\n\n# Set work directory\nWORKDIR /app\n\n# Install system dependencies\nRUN apt-get update \\\n    && apt-get install -y --no-install-recommends \\\n        build-essential \\\n        gcc \\\n        git \\\n        curl \\\n    && rm -rf /var/lib/apt/lists/*\n\n# Copy requirements files\nCOPY requirements.txt requirements.txt\nCOPY requirements-ai.txt requirements-ai.txt\n\n# Install Python dependencies\nRUN pip install --upgrade pip\nRUN pip install -r requirements.txt\nRUN pip install -r requirements-ai.txt\n\n# Copy project files\nCOPY . /app\n\n# Create necessary directories\nRUN mkdir -p /app/data /app/logs /app/historical_trades /app/results\n\n# Expose port for Streamlit dashboard\nEXPOSE 8501\n\n# Health check for the application\nHEALTHCHECK --interval=30s --timeout=10s --start-period=5s --retries=3 \\\n    CMD python -c \"import sys; sys.path.append('.'); from health_check import run_comprehensive_health_check; result = run_comprehensive_health_check(); sys.exit(0 if result['status'] in ['healthy', 'warning'] else 1)\"\n\n# Set default command\nCMD [\"streamlit\", \"run\", \"dashboard/dashboard.py\", \"--server.port=8501\", \"--server.address=0.0.0.0\"]\n